<?xml version="1.0" encoding="utf-8"?>

<params>

<dataloc>
	<movie
		essential="1"
		filestr="movie.ufmf"
		type="data_capture"/>
	<metadata
		essential="1"
		filestr="Metadata.xml"
		type="data_capture"/>
	<ufmfdiagnostics
		essential="0"
		filestr="ufmf_diagnostics.txt"
		type="data_capture"/>
	<ufmf_log
		essential="0"
		filestr=""
		type="data_capture"/>
	<quickstats
		essential="0"
		filestr="QuickStats.txt"
		type="data_capture"/>
	<quickstatsimage
		essential="0"
		filestr="QuickStats.png"
		type="data_capture"/>
	<temperature
		essential="0"
		filestr="temperature.txt"
		type="data_capture"/>
	<fbdc_params
		essential="0"
		filestr="FlyBowlDataCaptureParams_*.txt"
		type="data_capture"/>
	<fbdc_log
		essential="0"
		filestr=""
		type="data_capture"/>
	<success
		essential="0"
		filestr="SUCCESS"
		type="data_capture"/>
	<aborted
		essential="-1"
		filestr="ABORTED"
		type="data_capture"/>
	<bag
		essential="0"
		filestr="rosbagOut_2014-06-11-09-18-45.bag"
		type="bag"/>
	<main_log
		essential="0"
		filestr=""
		type="main"/>
	<automaticchecksincomingresults
		essential="0"
		filestr="automatic_checks_incoming_results.txt"
		type="auto_checks_incoming"/>
	<automaticchecks_incoming_log
		essential="0"
		filestr=""
		type="auto_checks_incoming"/>
	<bgmat
		essential="1"
		filestr="bgdata.mat"
		type="bg"/>
	<bgimage
		essential="0"
		filestr="bg.png"
		type="bg"/>
	<bg_log
		essential="0"
		filestr=""
		type="bg"/>
	<roidatamat
		essential="1"
		filestr="roidata.mat"
		type="detect_rois"/>
	<roiimage
		essential="0"
		filestr="rois.png"
		type="detect_rois"/>
	<roi_log
		essential="0"
		filestr=""
		type="detect_rois"/>
	<trx
		essential="1"
		filestr="registered_trx.mat"
		type="track"/>
	<trackingdatamat
		essential="0"
		filestr="trackingdata.mat"
		type="track"/>
	<track_log
		essential="0"
		filestr=""
		type="track"/>
	<perframedir
		essential="1"
		filestr="perframe"
		type="compute_perframe_features"/>
	<perframefeature_log
		essential="0"
		filestr=""
		type="compute_perframe_features"/>
	<perframefeaturedatamat
		filestr="pffdata.mat"
		type="compute_perframe_features"/>
	<resultsavi
		essential="1"
		filestr="tracking_results_movie"
		searchstr="tracking_results_movie*.avi"
		type="results_movie"/>
	<resultsmoviedatamat
		essential="0"
		filestr="trackingresultsmoviedata.mat"
		type="results_movie"/>
	<resultsmovie_log
		essential="0"
		filestr=""
		type="results_movie"/>
	<automaticcheckscompleteresults
		essential="0"
		filestr="automatic_checks_complete_results.txt"
		type="auto_checks_complete"/>
	<automaticchecks_complete_log
		essential="0"
		filestr=""
		type="auto_checks_complete"/>
</dataloc>

<auto_checks_incoming
	doAcI="1"
	max_seconds_fliesloaded="Inf"
	max_seconds_shiftflytemp="Inf"
	max_temp="Inf"
	max_tempdiff="Inf"
	min_seconds_fliesloaded="0"
	min_ufmf_nframes="100"
	required_metadata_fields="flag_aborted,flag_redo,seconds_fliesloaded,screen_type,screen_reason"/>

<detect_rois
	baserotateby="0"
	cannysigma="3"
	cannythresh="0.03,0.06"
	dosetROI="1"
	maxdcenter="10"
	maxdradius="10"
	meanroiradius="112.961"
	nROI="Nan"
	nbinscenter="21"
	nbinsradius="21"
	nflies_per_roi="1"
	nframessample="100"
	roidiameter_mm="NaN">
	<roimus
		x=""
		y=""/>
	<roirows
		a=""
		b=""
		c=""
		d=""/>
	<baserotatebyperrigbowl
		rig1bowlA="0"
		rig1bowlB="0"
		rig1bowlC="0"
		rig1bowlD="0"
		rig2bowlA="0"
		rig2bowlB="0"
		rig2bowlC="0"
		rig2bowlD="0"/>
	<ignorebowls
		rig1bowlA=""
		rig1bowlB=""
		rig1bowlC=""
		rig1bowlD=""
		rig2bowlA=""
		rig2bowlB=""
		rig2bowlC=""
		rig2bowlD=""/>
</detect_rois>

<track
	DEBUG="0"
	assignidsby="size"
	bg_lastframe="NaN"
	bg_nframes="NaN"
	bgmode="LIGHTBKGD"
	bgthresh="211.95"
	bgthresh_low="90"
	choose_orientations_max_ecc_confident="0.5"
	choose_orientations_max_velocity_angle_weight="0"
	choose_orientations_min_ecc_factor="0.01"
	choose_orientations_min_jump_speed="30"
	choose_orientations_use_bag="0"
	choose_orientations_velocity_angle_weight="0"
	choose_orientations_weight_theta="1"
	choose_orientations_weight_use_bag="0"
	computeBG="0"
	dosave="1"
	dosetBG="1"
	dosettrack="1"
	dotrack="1"
	dotrackwings="1"
	down_factor="20"
	eq_method="2"
	err_dampen_pos="0.1"
	err_dampen_priors="0.1"
	err_dampen_theta="0.8"
	err_weightarea="1"
	err_weightpos="1"
	err_weighttheta="1"
	firstframetrack="1"
	gmmem_maxiters="100"
	gmmem_min_obsprior="0.2"
	gmmem_nrestarts_firstframe="10"
	gmmem_precision="0.01"
	lastframetrack="Inf"
	minccarea="40"
	nframetrack="100"
	normalize="0"
	open_radius="1"
	typebigval="F"
	typefield="sex"
	typesmallval="M"
	usemediandt="1"
	vign_coef="0.553409,0.000522739,0.000679243,6.54211e-09,3.41238e-07,-6.73097e-07,-5.70474e-10,8.53918e-11,-3.89963e-10,-1.95828e-11"/>

<wingtrack
	dosetwingtrack="1"
	max_wing_angle_otherside="0.2"
	max_wingcc_dist="2.3562"
	max_wingpx_angle="2.3562"
	min_nonzero_wing_angle="0.17453"
	min_single_wing_area="10"
	min_wingcc_area="10"
	mindbody="216.9"
	mindwing_high="195.7"
	mindwing_low="175.167"
	nbins_dthetawing="50"
	radius_dilate_body="0"
	radius_open_wing="1"
	wing_fit_method="peaks"
	wing_frac_filter="0.25,0.5,0.25"
	wing_min_peak_dist_bins="3"
	wing_min_peak_threshold_frac="0"
	wing_min_prior="0.25"
	wing_peak_min_frac_factor="3"
	wing_radius_quadfit_bins="1"/>

<compute_perframe_features
	areasmooth_filterorder="1"
	areasmooth_maxerrx="0.279077"
	areasmooth_maxfreq="0.005"
	areasmooth_outlierprctile="0.1"
	dopff="1"
	fov="3.14159"
	max_dnose2ell_anglerange="127"
	nbodylengths_near="2.5"
	perframefns=""
	thetafil="0.0625,0.25,0.375,0.25,0.0625"/>

<results_movie
	dovideo="0"
	endframes="-1,-1,1"
	figpos="1,1,1007,1007"
	firstframes="0,0.5,-1"
	fps="30"
	middleframes="-1,0.5,-1"
	nframes="500,500,500"
	nzoomc="0"
	nzoomr="0"
	scalefactor="0.1"
	taillength="0"
	tempdatadir="/groups/branson/bransonlab/projects/CourtshipBowls/TempData_CourtshipBowlMakeResultsMovie"/>

<auto_checks_complete
	doAcC="1"
	max_nrois_0flies="Inf"
	max_nrois_1fly="Inf"
	max_nrois_2flies="16"
	max_nrois_moreflies="0"
	min_nrois="16"
	min_nrois_0flies="0"
	min_nrois_1fly="0"
	min_nrois_2flies="14"/>

</params>
